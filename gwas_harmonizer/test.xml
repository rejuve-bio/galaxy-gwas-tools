<?xml version="1.0"?>
<tool id="gwas_harmoniser" name="GWAS Sumstats Harmoniser" version="1.0">
  <description>Harmonise GWAS summary statistics via Nextflow</description>

  <requirements>
    <requirement type="package" version="25.10.0">nextflow</requirement>
    <requirement type="package" version="3.12">python</requirement>
  </requirements>

  <inputs>
    <param name="input_tsv" type="data" format="tabular,tsv" label="Input summary‑stats TSV"/>
    <param name="ref_dir" type="text" label="Reference folder" value="/path/to/gwas‑ref"/>
    <param name="harm_flag" type="boolean" label="Perform harmonisation" value="true"/>
  </inputs>

    <command><![CDATA[
    nextflow run /path/to/gwas-sumstats-harmoniser/main.nf \
        --file "${input_tsv}" \
        -profile standard \
        $([ "$harm_flag" = "true" ] && echo "--harm")
    ]]></command>




  <outputs>
    <data name="harmonised_output" format="tsv" label="Harmonised summary statistics"
          from_work_dir="results/harmonised_output.tsv"/>
  </outputs>

  <help><![CDATA[
This tool runs the GWAS‑Sumstats‑Harmoniser pipeline to harmonise your GWAS summary statistics file.
  ]]></help>
</tool>
