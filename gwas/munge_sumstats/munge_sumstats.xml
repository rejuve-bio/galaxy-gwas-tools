<tool id="munge_sumstats" name="MungeSumstats Formatter" version="0.1.0">
    <description>Format raw GWAS summary statistics using MungeSumstats (Bioconductor)</description>

    <command detect_errors="exit_code">
        <![CDATA[
        python3 '$__tool_directory__/munge_sumstats.py'
            --input '$input'
            --output 'formatted_output.txt'
            --ref_genome '$ref_genome'
        ]]>
    </command>


    <inputs>
        <param name="input" type="data" format="tabular,txt,tsv,bgz" label="Raw GWAS Sumstats"/>
        <param name="ref_genome" type="select" label="Reference Genome">
            <option value="GRCh37" selected="true">GRCh37</option>
            <option value="GRCh38">GRCh38</option>
        </param>
    </inputs>

    <outputs>
        <data name="output" format="txt" from_work_dir="formatted_output.txt"/>
    </outputs>


    <!-- <requirements>
        <requirement type="package">r-mungesumstats</requirement>
        <requirement type="package">rpy2</requirement>
        <requirement type="package">pandas</requirement>
    </requirements> -->

    <help>
        This tool wraps the R package MungeSumstats to reformat and clean GWAS summary statistics into LDSC-compatible format.
    </help>
</tool>

