<tool id="munge_sumstats" name="Munge Sumstats" version="0.1.1">
  <description>Format GWAS summary statistics using MungeSumstats</description>

  <command detect_errors="exit_code">
    <![CDATA[
    python3 $__tool_directory__/munge_sumstats.py \
      --input '$input' \
      --output '$output'
    ]]>
  </command>

  <inputs>
    <param name="input" type="data" format="txt" label="GWAS Summary Statistics"
           help="Raw GWAS summary statistics file (plain text format)."/>
  </inputs>

  <outputs>
    <data name="output" format="tsv" label="Formatted Summary Statistics (Munged)"/>
  </outputs>

  <requirements>
    <requirement type="package" version="2.2.7">r-mungesumstats</requirement>
    <requirement type="package">r-base</requirement>
    <requirement type="package">rpy2</requirement>
  </requirements>

  <help><![CDATA[
This tool uses the **[MungeSumstats](https://bioconductor.org/packages/MungeSumstats/)** R package 
to format and harmonize GWAS summary statistics for downstream applications such as 
**LDSC (LD Score Regression)**.

### Inputs
- **GWAS Summary Statistics:** Plain text file with raw summary statistics.

### Outputs
- **Formatted TSV file** suitable for use with LDSC and other tools.

### Notes
- This tool currently uses the **GRCh37** human reference genome.
- Indels are dropped to ensure compatibility with LDSC formatting.

If your dataset uses **GRCh38** or a different dbSNP version, please modify the script or contact the admin.

]]>
  </help>

</tool>
